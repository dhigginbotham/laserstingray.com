var adminController=function(e,t,o,l){var n,r,d,a,g,i,u,s,c;return n=apiServices(),s=messagingController(),g={ready:!1},i={bound:!1,tracking:[]},c={},d={saveBlog:"#saveBlogBtn",deleteBlog:"#deleteBlogBtn",debug:!0},i.saveBlog=function(e){e&&e.preventDefault();var l,n,r;return l=o(this),n=l.data(),n.formSelector&&(r=o(n.formSelector).serializeObject(),r.title.length&&r.body.length?(l.addClass("disabled"),c.saveBlog(r,function(e,o){return e?console.log(e):void(o&&s.toggle({text:"Awesome",time:2e3,func:function(){t.location.href="/blog/"+o._id}}))})):s.toggle({text:"You must provide at least a title and content for your post",time:2e3})),!1},i.deleteBlog=function(e){e&&e.preventDefault();var t,l;t=o(this),l=t.data(),l.id&&c.deleteBlog(l.id,function(e,t){return e?console.log(e):void 0})},c.saveBlog=function(e,t){return n.post("blogs",e,t)},c.deleteBlog=function(e,t){return n.delete("blogs",{id:e},t)},r=function(){i.bound||(i.bound=!0,g[d.saveBlog].length&&(g[d.saveBlog].on("click",i.saveBlog),i.tracking.push(d.saveBlog)),g[d.deleteBlog].length&&(g[d.deleteBlog].on("click",i.deleteBlog),i.tracking.push(d.deleteBlog)))},a=function(){l.events=i,l.dom=g,l.conf=d},u=function(){g.ready||(g.ready=!0,g[d.saveBlog]=o(d.saveBlog),g[d.deleteBlog]=o(d.deleteBlog),r())},o(t).ready(u),function(e){return e&&o.extend(d,e),g.ready||o(t).ready(u),d.debug&&a(),l}}(window,document,jQuery,{});