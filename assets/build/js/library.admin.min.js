var adminController=function(e,o,t,l){var n,r,g,a,d,i,u,s,c;return n=apiServices(),s=messagingController(),d={ready:!1},i={bound:!1,tracking:[]},c={},g={saveBlog:"#saveBlogBtn",deleteBlog:"#deleteBlogBtn",debug:!0},i.saveBlog=function(e){e&&e.preventDefault();var l,n,r;return l=t(this),n=l.data(),n.formSelector&&(r=t(n.formSelector).serializeObject(),r.title.length&&r.body.length?c.saveBlog(r,function(e,t){return e?console.log(e):void(t&&(o.location.href="/blogs/"+t._id))}):s.toggle({text:"You must provide at least a title and content for your post",time:5e3})),!1},i.deleteBlog=function(e){e&&e.preventDefault();var o,l;o=t(this),l=o.data(),l.id&&c.deleteBlog(l.id,function(e,o){return e?console.log(e):void 0})},c.saveBlog=function(e,o){return n.post("blogs",e,o)},c.deleteBlog=function(e,o){return n.delete("blogs",{id:e},o)},r=function(){i.bound||(i.bound=!0,d[g.saveBlog].length&&(d[g.saveBlog].on("click",i.saveBlog),i.tracking.push(g.saveBlog)),d[g.deleteBlog].length&&(d[g.deleteBlog].on("click",i.deleteBlog),i.tracking.push(g.deleteBlog)))},a=function(){l.events=i,l.dom=d,l.conf=g},u=function(){d.ready||(d.ready=!0,d[g.saveBlog]=t(g.saveBlog),d[g.deleteBlog]=t(g.deleteBlog),r())},t(o).ready(u),function(e){return e&&t.extend(g,e),d.ready||t(o).ready(u),g.debug&&a(),l}}(window,document,jQuery,{});