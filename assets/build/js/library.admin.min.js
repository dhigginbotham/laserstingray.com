var adminController=function(e,l,t,o){var n,a,g,r,s,d,u,i,c;return n=apiServices(),i=messagingController(),s={ready:!1},d={bound:!1,tracking:[]},c={},g={saveBlog:"#saveBlogBtn",deleteBlog:"#deleteBlogBtn",slug:"#slug",debug:!0},d.saveBlog=function(e){e&&e.preventDefault();var l,o,n;return l=t(this),o=l.data(),o.formSelector&&(n=t(o.formSelector).serializeObject(),n.title.length&&n.body.length?(l.addClass("disabled"),c.saveBlog(n,function(e,t){e&&i.toggle({text:"Validation Error: "+JSON.stringify(e),delay:2e3,func:function(){l.removeClass("disabled")}}),t&&(i.toggle({text:"Saved Post",delay:2e3}),l.removeClass("disabled"))})):i.toggle({text:"You must provide at least a title and content for your post",delay:2e3})),!1},d.deleteBlog=function(e){e&&e.preventDefault();var l,o;l=t(this),o=l.data(),o.id&&c.deleteBlog(o.id,function(e,l){return e?console.log(e):void 0})},d.createSlug=function(){var e,l;e=t(this),l=t("#title"),e.val(helperUtils.slug(e.val()?e.val():l.val()))},c.saveBlog=function(e,l){return n.post("blogs",e,l)},c.deleteBlog=function(e,l){return n.delete("blogs",{id:e},l)},a=function(){d.bound||(d.bound=!0,s[g.saveBlog].length&&(s[g.saveBlog].on("click",d.saveBlog),d.tracking.push(g.saveBlog)),s[g.deleteBlog].length&&(s[g.deleteBlog].on("click",d.deleteBlog),d.tracking.push(g.deleteBlog)),s[g.slug].length&&(s[g.slug].on("blur",d.createSlug),d.tracking.push(g.slug)))},r=function(){o.events=d,o.dom=s,o.conf=g},u=function(){s.ready||(s.ready=!0,s[g.saveBlog]=t(g.saveBlog),s[g.deleteBlog]=t(g.deleteBlog),s[g.slug]=t(g.slug),a())},t(l).ready(u),function(e){return e&&t.extend(g,e),g.debug&&r(),o}}(window,document,jQuery,{});